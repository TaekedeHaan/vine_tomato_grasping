<?xml version="1.0"?>
<launch>

   <!-- This lauch file just loads the URDF with the given hardware interface and robot name into the ROS Parameter Server -->
  <arg name="hardware_interface" default="PositionJointInterface"/>
  <arg name="robot_name" default="iiwa"/>
  <arg name="origin_xyz" default="'0 0 0'"/> <!-- Note the syntax to pass a vector -->
  <arg name="origin_rpy" default="'0 0 0'"/>

  <!-- camera -->
  <arg name="camera_name" default="camera"/>
  <arg name="use_nominal_extrinsics" default="true"/>
  <arg name="camera_origin_xyz" default="'0 0.6 1.2'"/>
  <arg name="camera_origin_rpy" default="'3.1415 1.57 -1.57'"/>


  <arg name="sdh" default="true"/>

  <!-- world -->
  <!-- TODO: how to set the tomato angle based on the output of a python script? -->
  <param name="param_angle" command="$(find flex_gazebo)/scripts/generate_random_angle.py"/>
  <arg name="tomato_angle" value="1"/>



  <!-- robot -->
  <param if="$(arg sdh)" name="robot_description" command="$(find xacro)/xacro --inorder '$(find flex_gazebo)/urdf/robot_sdh.urdf.xacro'
    hardware_interface:=$(arg hardware_interface)
    robot_name:=$(arg robot_name)
    origin_xyz:=$(arg origin_xyz)
    origin_rpy:=$(arg origin_rpy)
    use_nominal_extrinsics:=$(arg use_nominal_extrinsics)
    camera_name:=$(arg camera_name)
    "/>

  <param unless="$(arg sdh)" name="robot_description" command="$(find xacro)/xacro --inorder '$(find flex_gazebo)/urdf/robot.urdf.xacro'
    hardware_interface:=$(arg hardware_interface)
    robot_name:=$(arg robot_name)
    origin_xyz:=$(arg origin_xyz)
    origin_rpy:=$(arg origin_rpy)
    use_nominal_extrinsics:=$(arg use_nominal_extrinsics)
    camera_name:=$(arg camera_name)
    "/>

  <!-- world -->
  <param name="world_description" command="$(find xacro)/xacro --inorder '$(find flex_gazebo)/urdf/world.urdf.xacro'
    tomato_angle:=$(arg tomato_angle)
    "/>


</launch>
